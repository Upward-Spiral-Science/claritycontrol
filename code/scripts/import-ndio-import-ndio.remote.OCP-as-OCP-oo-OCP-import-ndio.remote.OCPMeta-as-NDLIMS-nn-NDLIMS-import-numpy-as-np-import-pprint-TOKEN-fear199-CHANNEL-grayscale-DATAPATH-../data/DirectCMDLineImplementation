import ndio
import ndio.remote.OCP as OCP
oo = OCP()
import ndio.remote.OCPMeta as NDLIMS
nn = NDLIMS()
import numpy as np
import pprint

TOKEN = 'fear199'
CHANNEL = 'grayscale'
DATAPATH = '../data/'

metadata = oo.get_proj_info(TOKEN)
#pprint.pprint(metadata,indent=4)
imagesSizes = metadata['dataset']['imagesize']
offset = metadata['dataset']['offset']

n = u'5' # resolution
print "ndio get cutout ... TOKEN=%s CHANNEL=%s RESOLUTION=%s"%(TOKEN,CHANNEL,n)
data = oo.get_cutout(TOKEN,CHANNEL,
                    offset[n][0],imagesSizes[n][0],
                    offset[n][1],imagesSizes[n][1],
                    offset[n][2],imagesSizes[n][2],
                    resolution=int(n)) 
